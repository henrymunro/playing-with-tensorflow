{"dependencies":[{"name":"/Users/senecamac1/henry/playing-with-tensorflow/fitting-a-curve/package.json","includedInParent":true,"mtime":1522495589000},{"name":"/Users/senecamac1/henry/playing-with-tensorflow/fitting-a-curve/node_modules/vega-scenegraph/package.json","includedInParent":true,"mtime":1518728314000},{"name":"vega-canvas","loc":{"line":1,"column":20}},{"name":"vega-loader","loc":{"line":2,"column":21}}],"generated":{"js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ResourceLoader;\n\nvar _vegaCanvas = require('vega-canvas');\n\nvar _vegaLoader = require('vega-loader');\n\nfunction ResourceLoader(customLoader) {\n  this._pending = 0;\n  this._loader = customLoader || (0, _vegaLoader.loader)();\n}\n\nvar prototype = ResourceLoader.prototype;\n\nprototype.pending = function () {\n  return this._pending;\n};\n\nfunction increment(loader) {\n  loader._pending += 1;\n}\n\nfunction decrement(loader) {\n  loader._pending -= 1;\n}\n\nprototype.sanitizeURL = function (uri) {\n  var loader = this;\n  increment(loader);\n\n  return loader._loader.sanitize(uri, { context: 'href' }).then(function (opt) {\n    decrement(loader);\n    return opt;\n  }).catch(function () {\n    decrement(loader);\n    return null;\n  });\n};\n\nprototype.loadImage = function (uri) {\n  var loader = this,\n      Image = (0, _vegaCanvas.image)();\n  increment(loader);\n\n  return loader._loader.sanitize(uri, { context: 'image' }).then(function (opt) {\n    var url = opt.href;\n    if (!url || !Image) throw { url: url };\n\n    var img = new Image();\n\n    img.onload = function () {\n      decrement(loader);\n      img.loaded = true;\n    };\n\n    img.onerror = function () {\n      decrement(loader);\n      img.loaded = false;\n    };\n\n    img.src = url;\n    return img;\n  }).catch(function (e) {\n    decrement(loader);\n    return { loaded: false, width: 0, height: 0, src: e && e.url || '' };\n  });\n};\n\nprototype.ready = function () {\n  var loader = this;\n  return new Promise(function (accept) {\n    function poll(value) {\n      if (!loader.pending()) accept(value);else setTimeout(function () {\n        poll(true);\n      }, 10);\n    }\n    poll(false);\n  });\n};"},"hash":"27f9837cd20379a760d9836dc399786c","cacheData":{"env":{}}}