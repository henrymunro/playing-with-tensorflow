{"dependencies":[{"name":"/Users/senecamac1/henry/playing-with-tensorflow/fitting-a-curve/package.json","includedInParent":true,"mtime":1522495589000},{"name":"/Users/senecamac1/henry/playing-with-tensorflow/fitting-a-curve/node_modules/vega-parser/package.json","includedInParent":true,"mtime":1520359126000},{"name":"../spec","loc":{"line":1,"column":22}},{"name":"../../DataScope","loc":{"line":2,"column":22}},{"name":"../../util","loc":{"line":3,"column":18}},{"name":"../../transforms","loc":{"line":4,"column":46}},{"name":"vega-util","loc":{"line":5,"column":33}}],"generated":{"js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (spec, scope, group) {\n  var facet = spec.from.facet,\n      name = facet.name,\n      data = (0, _util.ref)(scope.getData(facet.data).output),\n      subscope,\n      source,\n      values,\n      op;\n\n  if (!facet.name) {\n    (0, _vegaUtil.error)('Facet must have a name: ' + (0, _vegaUtil.stringValue)(facet));\n  }\n  if (!facet.data) {\n    (0, _vegaUtil.error)('Facet must reference a data set: ' + (0, _vegaUtil.stringValue)(facet));\n  }\n\n  if (facet.field) {\n    op = scope.add((0, _transforms.PreFacet)({\n      field: scope.fieldRef(facet.field),\n      pulse: data\n    }));\n  } else if (facet.groupby) {\n    op = scope.add((0, _transforms.Facet)({\n      key: scope.keyRef(facet.groupby),\n      group: (0, _util.ref)(scope.proxy(group.parent)),\n      pulse: data\n    }));\n  } else {\n    (0, _vegaUtil.error)('Facet must specify groupby or field: ' + (0, _vegaUtil.stringValue)(facet));\n  }\n\n  // initialize facet subscope\n  subscope = scope.fork();\n  source = subscope.add((0, _transforms.Collect)());\n  values = subscope.add((0, _transforms.Sieve)({ pulse: (0, _util.ref)(source) }));\n  subscope.addData(name, new _DataScope2.default(subscope, source, source, values));\n  subscope.addSignal('parent', null);\n\n  // parse faceted subflow\n  op.params.subflow = {\n    $subflow: (0, _spec2.default)(spec, subscope).toRuntime()\n  };\n};\n\nvar _spec = require('../spec');\n\nvar _spec2 = _interopRequireDefault(_spec);\n\nvar _DataScope = require('../../DataScope');\n\nvar _DataScope2 = _interopRequireDefault(_DataScope);\n\nvar _util = require('../../util');\n\nvar _transforms = require('../../transforms');\n\nvar _vegaUtil = require('vega-util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }"},"hash":"911914f2aad89c44bbe1033bf134e41e","cacheData":{"env":{}}}