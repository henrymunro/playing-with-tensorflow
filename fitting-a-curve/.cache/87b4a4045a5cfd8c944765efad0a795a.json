{"dependencies":[{"name":"/Users/senecamac1/henry/playing-with-tensorflow/fitting-a-curve/package.json","includedInParent":true,"mtime":1522495589000},{"name":"/Users/senecamac1/henry/playing-with-tensorflow/fitting-a-curve/node_modules/vega-transforms/package.json","includedInParent":true,"mtime":1520278057000},{"name":"vega-dataflow","loc":{"line":1,"column":22}},{"name":"vega-statistics","loc":{"line":2,"column":37}},{"name":"vega-util","loc":{"line":3,"column":33}}],"generated":{"js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = TupleStore;\n\nvar _vegaDataflow = require('vega-dataflow');\n\nvar _vegaStatistics = require('vega-statistics');\n\nvar _vegaUtil = require('vega-util');\n\nfunction TupleStore(key) {\n  this._key = key ? (0, _vegaUtil.field)(key) : _vegaDataflow.tupleid;\n  this.reset();\n}\n\nvar prototype = TupleStore.prototype;\n\nprototype.reset = function () {\n  this._add = [];\n  this._rem = [];\n  this._ext = null;\n  this._get = null;\n  this._q = null;\n};\n\nprototype.add = function (v) {\n  this._add.push(v);\n};\n\nprototype.rem = function (v) {\n  this._rem.push(v);\n};\n\nprototype.values = function () {\n  this._get = null;\n  if (this._rem.length === 0) return this._add;\n\n  var a = this._add,\n      r = this._rem,\n      k = this._key,\n      n = a.length,\n      m = r.length,\n      x = Array(n - m),\n      map = {},\n      i,\n      j,\n      v;\n\n  // use unique key field to clear removed values\n  for (i = 0; i < m; ++i) {\n    map[k(r[i])] = 1;\n  }\n  for (i = 0, j = 0; i < n; ++i) {\n    if (map[k(v = a[i])]) {\n      map[k(v)] = 0;\n    } else {\n      x[j++] = v;\n    }\n  }\n\n  this._rem = [];\n  return this._add = x;\n};\n\n// memoizing statistics methods\n\nprototype.distinct = function (get) {\n  var v = this.values(),\n      n = v.length,\n      map = {},\n      count = 0,\n      s;\n\n  while (--n >= 0) {\n    s = get(v[n]) + '';\n    if (!map.hasOwnProperty(s)) {\n      map[s] = 1;\n      ++count;\n    }\n  }\n\n  return count;\n};\n\nprototype.extent = function (get) {\n  if (this._get !== get || !this._ext) {\n    var v = this.values(),\n        i = (0, _vegaUtil.extentIndex)(v, get);\n    this._ext = [v[i[0]], v[i[1]]];\n    this._get = get;\n  }\n  return this._ext;\n};\n\nprototype.argmin = function (get) {\n  return this.extent(get)[0] || {};\n};\n\nprototype.argmax = function (get) {\n  return this.extent(get)[1] || {};\n};\n\nprototype.min = function (get) {\n  var m = this.extent(get)[0];\n  return m != null ? get(m) : +Infinity;\n};\n\nprototype.max = function (get) {\n  var m = this.extent(get)[1];\n  return m != null ? get(m) : -Infinity;\n};\n\nprototype.quartile = function (get) {\n  if (this._get !== get || !this._q) {\n    this._q = (0, _vegaStatistics.quartiles)(this.values(), get);\n    this._get = get;\n  }\n  return this._q;\n};\n\nprototype.q1 = function (get) {\n  return this.quartile(get)[0];\n};\n\nprototype.q2 = function (get) {\n  return this.quartile(get)[1];\n};\n\nprototype.q3 = function (get) {\n  return this.quartile(get)[2];\n};\n\nprototype.ci = function (get) {\n  if (this._get !== get || !this._ci) {\n    this._ci = (0, _vegaStatistics.bootstrapCI)(this.values(), 1000, 0.05, get);\n    this._get = get;\n  }\n  return this._ci;\n};\n\nprototype.ci0 = function (get) {\n  return this.ci(get)[0];\n};\n\nprototype.ci1 = function (get) {\n  return this.ci(get)[1];\n};"},"hash":"cdce437e0f5bc08b5fc22b93201953a8","cacheData":{"env":{}}}