{"dependencies":[{"name":"/Users/senecamac1/henry/playing-with-tensorflow/fitting-a-curve/package.json","includedInParent":true,"mtime":1522495589000},{"name":"/Users/senecamac1/henry/playing-with-tensorflow/fitting-a-curve/node_modules/vega-dataflow/package.json","includedInParent":true,"mtime":1518291445000},{"name":"./util/UniqueList","loc":{"line":1,"column":23}},{"name":"vega-util","loc":{"line":2,"column":45}}],"generated":{"js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = EventStream;\nexports.stream = stream;\n\nvar _UniqueList = require('./util/UniqueList');\n\nvar _UniqueList2 = _interopRequireDefault(_UniqueList);\n\nvar _vegaUtil = require('vega-util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar STREAM_ID = 0;\n\n/**\n * Models an event stream.\n * @constructor\n * @param {function(Object, number): boolean} [filter] - Filter predicate.\n *   Events pass through when truthy, events are suppressed when falsy.\n * @param {function(Object): *} [apply] - Applied to input events to produce\n *   new event values.\n * @param {function(Object)} [receive] - Event callback function to invoke\n *   upon receipt of a new event. Use to override standard event processing.\n */\nfunction EventStream(filter, apply, receive) {\n  this.id = ++STREAM_ID;\n  this.value = null;\n  if (receive) this.receive = receive;\n  if (filter) this._filter = filter;\n  if (apply) this._apply = apply;\n}\n\n/**\n * Creates a new event stream instance with the provided\n * (optional) filter, apply and receive functions.\n * @param {function(Object, number): boolean} [filter] - Filter predicate.\n *   Events pass through when truthy, events are suppressed when falsy.\n * @param {function(Object): *} [apply] - Applied to input events to produce\n *   new event values.\n * @see EventStream\n */\nfunction stream(filter, apply, receive) {\n  return new EventStream(filter, apply, receive);\n}\n\nvar prototype = EventStream.prototype;\n\nprototype._filter = _vegaUtil.truthy;\n\nprototype._apply = _vegaUtil.identity;\n\nprototype.targets = function () {\n  return this._targets || (this._targets = (0, _UniqueList2.default)(_vegaUtil.id));\n};\n\nprototype.consume = function (_) {\n  if (!arguments.length) return !!this._consume;\n  this._consume = !!_;\n  return this;\n};\n\nprototype.receive = function (evt) {\n  if (this._filter(evt)) {\n    var val = this.value = this._apply(evt),\n        trg = this._targets,\n        n = trg ? trg.length : 0,\n        i = 0;\n\n    for (; i < n; ++i) trg[i].receive(val);\n\n    if (this._consume) {\n      evt.preventDefault();\n      evt.stopPropagation();\n    }\n  }\n};\n\nprototype.filter = function (filter) {\n  var s = stream(filter);\n  this.targets().add(s);\n  return s;\n};\n\nprototype.apply = function (apply) {\n  var s = stream(null, apply);\n  this.targets().add(s);\n  return s;\n};\n\nprototype.merge = function () {\n  var s = stream();\n\n  this.targets().add(s);\n  for (var i = 0, n = arguments.length; i < n; ++i) {\n    arguments[i].targets().add(s);\n  }\n\n  return s;\n};\n\nprototype.throttle = function (pause) {\n  var t = -1;\n  return this.filter(function () {\n    var now = Date.now();\n    if (now - t > pause) {\n      t = now;\n      return 1;\n    } else {\n      return 0;\n    }\n  });\n};\n\nprototype.debounce = function (delay) {\n  var s = stream();\n\n  this.targets().add(stream(null, null, (0, _vegaUtil.debounce)(delay, function (e) {\n    var df = e.dataflow;\n    s.receive(e);\n    if (df && df.run) df.run();\n  })));\n\n  return s;\n};\n\nprototype.between = function (a, b) {\n  var active = false;\n  a.targets().add(stream(null, null, function () {\n    active = true;\n  }));\n  b.targets().add(stream(null, null, function () {\n    active = false;\n  }));\n  return this.filter(function () {\n    return active;\n  });\n};"},"hash":"fdacae94f4d1508db797a5435de0262f","cacheData":{"env":{}}}