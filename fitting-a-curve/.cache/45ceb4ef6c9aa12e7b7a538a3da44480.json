{"dependencies":[{"name":"/Users/senecamac1/henry/playing-with-tensorflow/fitting-a-curve/package.json","includedInParent":true,"mtime":1522495589000},{"name":"/Users/senecamac1/henry/playing-with-tensorflow/fitting-a-curve/node_modules/vega-expression/package.json","includedInParent":true,"mtime":1498878258000},{"name":"./constants","loc":{"line":1,"column":22}},{"name":"./functions","loc":{"line":2,"column":22}},{"name":"vega-util","loc":{"line":3,"column":49}}],"generated":{"js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (opt) {\n  opt = opt || {};\n\n  var whitelist = opt.whitelist ? (0, _vegaUtil.toSet)(opt.whitelist) : {},\n      blacklist = opt.blacklist ? (0, _vegaUtil.toSet)(opt.blacklist) : {},\n      constants = opt.constants || _constants2.default,\n      functions = (opt.functions || _functions2.default)(visit),\n      globalvar = opt.globalvar,\n      fieldvar = opt.fieldvar,\n      globals = {},\n      fields = {},\n      memberDepth = 0;\n\n  var outputGlobal = (0, _vegaUtil.isFunction)(globalvar) ? globalvar : function (id) {\n    return globalvar + '[\"' + id + '\"]';\n  };\n\n  function visit(ast) {\n    if ((0, _vegaUtil.isString)(ast)) return ast;\n    var generator = Generators[ast.type];\n    if (generator == null) (0, _vegaUtil.error)('Unsupported type: ' + ast.type);\n    return generator(ast);\n  }\n\n  var Generators = {\n    Literal: function (n) {\n      return n.raw;\n    },\n\n    Identifier: function (n) {\n      var id = n.name;\n      if (memberDepth > 0) {\n        return id;\n      } else if (blacklist.hasOwnProperty(id)) {\n        return (0, _vegaUtil.error)('Illegal identifier: ' + id);\n      } else if (constants.hasOwnProperty(id)) {\n        return constants[id];\n      } else if (whitelist.hasOwnProperty(id)) {\n        return id;\n      } else {\n        globals[id] = 1;\n        return outputGlobal(id);\n      }\n    },\n\n    MemberExpression: function (n) {\n      var d = !n.computed;\n      var o = visit(n.object);\n      if (d) memberDepth += 1;\n      var p = visit(n.property);\n      if (o === fieldvar) {\n        fields[p] = 1;\n      } // HACKish...\n      if (d) memberDepth -= 1;\n      return o + (d ? '.' + p : '[' + p + ']');\n    },\n\n    CallExpression: function (n) {\n      if (n.callee.type !== 'Identifier') {\n        (0, _vegaUtil.error)('Illegal callee type: ' + n.callee.type);\n      }\n      var callee = n.callee.name;\n      var args = n.arguments;\n      var fn = functions.hasOwnProperty(callee) && functions[callee];\n      if (!fn) (0, _vegaUtil.error)('Unrecognized function: ' + callee);\n      return (0, _vegaUtil.isFunction)(fn) ? fn(args) : fn + '(' + args.map(visit).join(',') + ')';\n    },\n\n    ArrayExpression: function (n) {\n      return '[' + n.elements.map(visit).join(',') + ']';\n    },\n\n    BinaryExpression: function (n) {\n      return '(' + visit(n.left) + n.operator + visit(n.right) + ')';\n    },\n\n    UnaryExpression: function (n) {\n      return '(' + n.operator + visit(n.argument) + ')';\n    },\n\n    ConditionalExpression: function (n) {\n      return '(' + visit(n.test) + '?' + visit(n.consequent) + ':' + visit(n.alternate) + ')';\n    },\n\n    LogicalExpression: function (n) {\n      return '(' + visit(n.left) + n.operator + visit(n.right) + ')';\n    },\n\n    ObjectExpression: function (n) {\n      return '{' + n.properties.map(visit).join(',') + '}';\n    },\n\n    Property: function (n) {\n      memberDepth += 1;\n      var k = visit(n.key);\n      memberDepth -= 1;\n      return k + ':' + visit(n.value);\n    }\n  };\n\n  function codegen(ast) {\n    var result = {\n      code: visit(ast),\n      globals: Object.keys(globals),\n      fields: Object.keys(fields)\n    };\n    globals = {};\n    fields = {};\n    return result;\n  }\n\n  codegen.functions = functions;\n  codegen.constants = constants;\n\n  return codegen;\n};\n\nvar _constants = require('./constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _functions = require('./functions');\n\nvar _functions2 = _interopRequireDefault(_functions);\n\nvar _vegaUtil = require('vega-util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }"},"hash":"3f802cfd03d3d42128cbe69306e2afd0","cacheData":{"env":{}}}