{"dependencies":[{"name":"/Users/senecamac1/henry/playing-with-tensorflow/fitting-a-curve/package.json","includedInParent":true,"mtime":1522495589000},{"name":"/Users/senecamac1/henry/playing-with-tensorflow/fitting-a-curve/node_modules/vega-parser/package.json","includedInParent":true,"mtime":1520359126000},{"name":"./expression","loc":{"line":1,"column":23}},{"name":"vega-util","loc":{"line":2,"column":70}}],"generated":{"js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (ref, scope, params, fields) {\n  return resolve((0, _vegaUtil.isObject)(ref) ? ref : { datum: ref }, scope, params, fields);\n};\n\nvar _expression = require('./expression');\n\nvar _expression2 = _interopRequireDefault(_expression);\n\nvar _vegaUtil = require('vega-util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction resolve(ref, scope, params, fields) {\n  var object, level, field;\n\n  if (ref.signal) {\n    object = 'datum';\n    field = (0, _expression2.default)(ref.signal, scope, params, fields);\n  } else if (ref.group || ref.parent) {\n    level = Math.max(1, ref.level || 1);\n    object = 'item';\n\n    while (level-- > 0) {\n      object += '.mark.group';\n    }\n\n    if (ref.parent) {\n      field = ref.parent;\n      object += '.datum';\n    } else {\n      field = ref.group;\n    }\n  } else if (ref.datum) {\n    object = 'datum';\n    field = ref.datum;\n  } else {\n    (0, _vegaUtil.error)('Invalid field reference: ' + (0, _vegaUtil.stringValue)(ref));\n  }\n\n  if (!ref.signal) {\n    if ((0, _vegaUtil.isString)(field)) {\n      fields[field] = 1; // TODO review field tracking?\n      field = (0, _vegaUtil.splitAccessPath)(field).map(_vegaUtil.stringValue).join('][');\n    } else {\n      field = resolve(field, scope, params, fields);\n    }\n  }\n\n  return object + '[' + field + ']';\n}"},"hash":"d40ae17d7a1733d707cc127998a553b3","cacheData":{"env":{}}}