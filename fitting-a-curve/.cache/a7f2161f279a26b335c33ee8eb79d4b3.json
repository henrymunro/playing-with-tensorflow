{"dependencies":[{"name":"/Users/senecamac1/henry/playing-with-tensorflow/fitting-a-curve/package.json","includedInParent":true,"mtime":1522495589000},{"name":"/Users/senecamac1/henry/playing-with-tensorflow/fitting-a-curve/node_modules/vega-parser/package.json","includedInParent":true,"mtime":1520359126000},{"name":"../transform","loc":{"line":1,"column":27}},{"name":"../../util","loc":{"line":2,"column":18}},{"name":"../../transforms","loc":{"line":3,"column":22}},{"name":"vega-util","loc":{"line":4,"column":35}}],"generated":{"js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (from, group, scope) {\n  var facet, key, op, dataRef, parent;\n\n  // if no source data, generate singleton datum\n  if (!from) {\n    dataRef = (0, _util.ref)(scope.add((0, _transforms.Collect)(null, [{}])));\n  }\n\n  // if faceted, process facet specification\n  else if (facet = from.facet) {\n      if (!group) (0, _vegaUtil.error)('Only group marks can be faceted.');\n\n      // use pre-faceted source data, if available\n      if (facet.field != null) {\n        dataRef = parent = (0, _util.ref)(scope.getData(facet.data).output);\n      } else {\n        // generate facet aggregates if no direct data specification\n        if (!from.data) {\n          op = (0, _transform2.default)((0, _vegaUtil.extend)({\n            type: 'aggregate',\n            groupby: (0, _vegaUtil.array)(facet.groupby)\n          }, facet.aggregate), scope);\n          op.params.key = scope.keyRef(facet.groupby);\n          op.params.pulse = (0, _util.ref)(scope.getData(facet.data).output);\n          dataRef = parent = (0, _util.ref)(scope.add(op));\n        } else {\n          parent = (0, _util.ref)(scope.getData(from.data).aggregate);\n        }\n\n        key = scope.keyRef(facet.groupby, true);\n      }\n    }\n\n  // if not yet defined, get source data reference\n  if (!dataRef) {\n    dataRef = from.$ref ? from : (0, _util.ref)(scope.getData(from.data).output);\n  }\n\n  return {\n    key: key,\n    pulse: dataRef,\n    parent: parent\n  };\n};\n\nvar _transform = require('../transform');\n\nvar _transform2 = _interopRequireDefault(_transform);\n\nvar _util = require('../../util');\n\nvar _transforms = require('../../transforms');\n\nvar _vegaUtil = require('vega-util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }"},"hash":"aeefdb8d2258a9757cb9d71888594714","cacheData":{"env":{}}}